(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3801],{108:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var s=t(5155),l=t(2115),a=t(5695);function d(){let[e,r]=(0,l.useState)(null),[t,d]=(0,l.useState)(!0),[o,i]=(0,l.useState)(!1),[n,c]=(0,l.useState)(""),u=(0,a.useRouter)();(0,l.useEffect)(()=>{if(!localStorage.getItem("adminToken"))return void u.push("/admin/login");m()},[u]);let m=async()=>{try{let e=await fetch("/api/admin/content/homepage");if(e.ok){let t=await e.json();r(t.content)}else c("Failed to load content")}catch(e){c("Error loading content")}finally{d(!1)}},x=async()=>{if(e){i(!0),c("");try{let r=localStorage.getItem("adminToken");(await fetch("/api/admin/content/homepage",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(e)})).ok?(c("Content saved successfully!"),setTimeout(()=>c(""),3e3)):c("Failed to save content")}catch(e){c("Error saving content")}finally{i(!1)}}},g=(t,s)=>{e&&r({...e,hero:{...e.hero,[t]:s}})},b=(t,s)=>{e&&r({...e,services:{...e.services,[t]:s}})},f=(r,t,s)=>{if(!e)return;let l=[...e.services.items];l[r]={...l[r],[t]:s},b("items",l)},h=(t,s,l)=>{if(!e)return;let a=[...e.features];a[t]={...a[t],[s]:l},r({...e,features:a})},p=(t,s)=>{e&&r({...e,gallery:{...e.gallery,[t]:s}})},y=(r,t,s)=>{if(!e)return;let l=[...e.gallery.projects];l[r]={...l[r],[t]:s},p("projects",l)},j=(t,s)=>{e&&r({...e,cta:{...e.cta,[t]:s}})},v=(t,s)=>{e&&r({...e,serviceArea:{...e.serviceArea,[t]:s}})};return t?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-700 mx-auto"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):e?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("header",{className:"bg-white shadow",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("button",{onClick:()=>u.push("/admin/dashboard"),className:"text-red-700 hover:text-red-900 mr-4",children:"← Back to Dashboard"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Homepage Content"})]}),(0,s.jsx)("button",{onClick:x,disabled:o,className:"bg-red-700 hover:bg-red-800 text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50",children:o?"Saving...":"Save Changes"})]})})}),n&&(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4",children:(0,s.jsx)("div",{className:"rounded-md p-4 ".concat(n.includes("success")?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:n})}),(0,s.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"px-4 py-6 sm:px-0 space-y-8",children:[(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Hero Section"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Main Title"}),(0,s.jsx)("input",{type:"text",value:e.hero.title,onChange:e=>g("title",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Subtitle"}),(0,s.jsx)("input",{type:"text",value:e.hero.subtitle,onChange:e=>g("subtitle",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,s.jsx)("textarea",{value:e.hero.description,onChange:e=>g("description",e.target.value),rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Features (one per line)"}),(0,s.jsx)("textarea",{value:e.hero.features.join("\n"),onChange:e=>g("features",e.target.value.split("\n").filter(e=>e.trim())),rows:4,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Services Section"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Section Title"}),(0,s.jsx)("input",{type:"text",value:e.services.title,onChange:e=>b("title",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Section Subtitle"}),(0,s.jsx)("input",{type:"text",value:e.services.subtitle,onChange:e=>b("subtitle",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]})]}),(0,s.jsx)("h3",{className:"text-md font-medium text-gray-900 mb-3",children:"Service Items"}),(0,s.jsx)("div",{className:"space-y-4",children:e.services.items.map((e,r)=>(0,s.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,s.jsx)("input",{type:"text",value:e.title,onChange:e=>f(r,"title",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,s.jsx)("input",{type:"text",value:e.description,onChange:e=>f(r,"description",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Link"}),(0,s.jsx)("input",{type:"text",value:e.href,onChange:e=>f(r,"href",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]})]})},r))})]}),(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Features Section"}),(0,s.jsx)("div",{className:"space-y-4",children:e.features.map((e,r)=>(0,s.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,s.jsx)("input",{type:"text",value:e.title,onChange:e=>h(r,"title",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,s.jsx)("input",{type:"text",value:e.description,onChange:e=>h(r,"description",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]})]})},r))})]}),(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gallery Section"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Section Title"}),(0,s.jsx)("input",{type:"text",value:e.gallery.title,onChange:e=>p("title",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Section Subtitle"}),(0,s.jsx)("input",{type:"text",value:e.gallery.subtitle,onChange:e=>p("subtitle",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]})]}),(0,s.jsx)("h3",{className:"text-md font-medium text-gray-900 mb-3",children:"Projects"}),(0,s.jsx)("div",{className:"space-y-4",children:e.gallery.projects.map((e,r)=>(0,s.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Project Title"}),(0,s.jsx)("input",{type:"text",value:e.title,onChange:e=>y(r,"title",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Before Image"}),(0,s.jsx)("input",{type:"text",value:e.beforeImage,onChange:e=>y(r,"beforeImage",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"After Image"}),(0,s.jsx)("input",{type:"text",value:e.afterImage,onChange:e=>y(r,"afterImage",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]})]})},r))}),(0,s.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Family Image"}),(0,s.jsx)("input",{type:"text",value:e.gallery.familyImage,onChange:e=>p("familyImage",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Family Title"}),(0,s.jsx)("input",{type:"text",value:e.gallery.familyTitle,onChange:e=>p("familyTitle",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Family Description"}),(0,s.jsx)("input",{type:"text",value:e.gallery.familyDescription,onChange:e=>p("familyDescription",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Call to Action Section"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,s.jsx)("input",{type:"text",value:e.cta.title,onChange:e=>j("title",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,s.jsx)("textarea",{value:e.cta.description,onChange:e=>j("description",e.target.value),rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Features (one per line)"}),(0,s.jsx)("textarea",{value:e.cta.features.join("\n"),onChange:e=>j("features",e.target.value.split("\n").filter(e=>e.trim())),rows:4,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]})]})]}),(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Service Area Section"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,s.jsx)("input",{type:"text",value:e.serviceArea.title,onChange:e=>v("title",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Service Areas (one per line)"}),(0,s.jsx)("textarea",{value:e.serviceArea.areas.join("\n"),onChange:e=>v("areas",e.target.value.split("\n").filter(e=>e.trim())),rows:4,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]})]})]})]})})]}):(0,s.jsx)("div",{children:"Error loading content"})}},5203:(e,r,t)=>{Promise.resolve().then(t.bind(t,108))},5695:(e,r,t)=>{"use strict";var s=t(8999);t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})}},e=>{e.O(0,[8441,5964,7358],()=>e(e.s=5203)),_N_E=e.O()}]);