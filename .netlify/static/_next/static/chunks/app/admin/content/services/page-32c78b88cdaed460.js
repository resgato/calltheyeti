(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5173],{1635:(e,s,t)=>{Promise.resolve().then(t.bind(t,5688))},5688:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(5155),a=t(2115),l=t(5695);function n(){let[e,s]=(0,a.useState)(null),[t,n]=(0,a.useState)(!0),[d,i]=(0,a.useState)(!1),[c,o]=(0,a.useState)(""),m=(0,l.useRouter)();(0,a.useEffect)(()=>{if(!localStorage.getItem("adminToken"))return void m.push("/admin/login");u()},[m]);let u=async()=>{try{let e=await fetch("/api/admin/content/services");if(e.ok){let t=await e.json();s(t.content)}else o("Failed to load content")}catch(e){o("Error loading content")}finally{n(!1)}},x=async()=>{if(e){i(!0),o("");try{let s=localStorage.getItem("adminToken");(await fetch("/api/admin/content/services",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify(e)})).ok?(o("Services content saved successfully!"),setTimeout(()=>o(""),3e3)):o("Failed to save services content")}catch(e){o("Error saving services content")}finally{i(!1)}}},g=(t,r)=>{e&&s({...e,[t]:r})},h=(t,r,a)=>{if(!e)return;let l=[...e.services];l[t]={...l[t],[r]:a},s({...e,services:l})};return t?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-700 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):e?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white shadow",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("button",{onClick:()=>m.push("/admin/dashboard"),className:"text-red-700 hover:text-red-900 mr-4",children:"← Back to Dashboard"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Services Content"})]}),(0,r.jsx)("button",{onClick:x,disabled:d,className:"bg-red-700 hover:bg-red-800 text-white px-4 py-2 rounded-md text-sm font-medium disabled:opacity-50",children:d?"Saving...":"Save Changes"})]})})}),c&&(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4",children:(0,r.jsx)("div",{className:"rounded-md p-4 ".concat(c.includes("success")?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:c})}),(0,r.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"px-4 py-6 sm:px-0 space-y-8",children:[(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Services Section Header"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Section Title"}),(0,r.jsx)("input",{type:"text",value:e.title,onChange:e=>g("title",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Section Subtitle"}),(0,r.jsx)("input",{type:"text",value:e.subtitle,onChange:e=>g("subtitle",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Services"}),(0,r.jsx)("div",{className:"space-y-6",children:e.services.map((e,s)=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsxs)("h3",{className:"text-md font-medium text-gray-900 mb-3",children:["Service ",s+1]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Service Title"}),(0,r.jsx)("input",{type:"text",value:e.title,onChange:e=>h(s,"title",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Image URL (optional)"}),(0,r.jsx)("input",{type:"text",value:e.image||"",onChange:e=>h(s,"image",e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:"/uploads/service-image.jpg"})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,r.jsx)("textarea",{value:e.description,onChange:e=>h(s,"description",e.target.value),rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Features (one per line)"}),(0,r.jsx)("textarea",{value:e.features.join("\n"),onChange:e=>h(s,"features",e.target.value.split("\n").filter(e=>e.trim())),rows:4,className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-red-500 focus:border-red-500"})]})]})]},s))})]})]})})]}):(0,r.jsx)("div",{children:"Error loading content"})}},5695:(e,s,t)=>{"use strict";var r=t(8999);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})}},e=>{e.O(0,[8441,5964,7358],()=>e(e.s=1635)),_N_E=e.O()}]);