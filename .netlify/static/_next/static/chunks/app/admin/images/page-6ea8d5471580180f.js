(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3909],{5032:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>i});var t=s(5155),r=s(2115),l=s(5695);function i(){let[e,a]=(0,r.useState)([]),[s,i]=(0,r.useState)(!1),[o,d]=(0,r.useState)(""),c=(0,l.useRouter)();(0,r.useEffect)(()=>{if(!localStorage.getItem("adminToken"))return void c.push("/admin/login");n()},[c]);let n=async()=>{try{let e=await fetch("/api/admin/images");if(e.ok){let s=await e.json();a(s.images||[])}}catch(e){console.error("Error fetching images:",e)}},m=async e=>{let a=e.target.files;if(a&&0!==a.length){i(!0),d("");try{let e=localStorage.getItem("adminToken"),s=new FormData;for(let e=0;e<a.length;e++)s.append("images",a[e]);let t=await fetch("/api/admin/images/upload",{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:s});if(t.ok)d("Images uploaded successfully!"),n(),setTimeout(()=>d(""),3e3);else{let e=await t.json();d(e.message||"Upload failed")}}catch(e){d("Error uploading images")}finally{i(!1)}}},x=async e=>{if(confirm("Are you sure you want to delete this image?"))try{let a=localStorage.getItem("adminToken");(await fetch("/api/admin/images/".concat(encodeURIComponent(e)),{method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}})).ok?(d("Image deleted successfully!"),n(),setTimeout(()=>d(""),3e3)):d("Failed to delete image")}catch(e){d("Error deleting image")}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white shadow",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsx)("div",{className:"flex justify-between items-center py-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("button",{onClick:()=>c.push("/admin/dashboard"),className:"text-red-700 hover:text-red-900 mr-4",children:"← Back to Dashboard"}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Image Manager"})]})})})}),o&&(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4",children:(0,t.jsx)("div",{className:"rounded-md p-4 ".concat(o.includes("success")?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:o})}),(0,t.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 mb-8",children:[(0,t.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload Images"}),(0,t.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,t.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("label",{htmlFor:"file-upload",className:"cursor-pointer bg-red-700 hover:bg-red-800 text-white px-4 py-2 rounded-md text-sm font-medium",children:s?"Uploading...":"Choose Images"}),(0,t.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",multiple:!0,accept:"image/*",onChange:m,disabled:s,className:"sr-only"})]}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"PNG, JPG, GIF up to 10MB each"})]})})]}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Uploaded Images"}),0===e.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,t.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No images"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Upload some images to get started."})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map((e,a)=>(0,t.jsxs)("div",{className:"group relative",children:[(0,t.jsx)("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-lg bg-gray-200",children:(0,t.jsx)("img",{src:e.url,alt:e.name,className:"h-full w-full object-cover object-center group-hover:opacity-75"})}),(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[(e.size/1024/1024).toFixed(2)," MB"]})]}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100",children:(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:()=>{var a;return a=e.url,void(navigator.clipboard.writeText(a),d("Image URL copied to clipboard!"),setTimeout(()=>d(""),2e3))},className:"bg-white text-gray-900 px-3 py-1 rounded text-sm font-medium hover:bg-gray-100",children:"Copy URL"}),(0,t.jsx)("button",{onClick:()=>x(e.name),className:"bg-red-600 text-white px-3 py-1 rounded text-sm font-medium hover:bg-red-700",children:"Delete"})]})})]},a))})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mt-8",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-blue-900 mb-2",children:"How to Use Images"}),(0,t.jsxs)("div",{className:"text-sm text-blue-800 space-y-2",children:[(0,t.jsx)("p",{children:'• Click "Copy URL" to copy the image URL to your clipboard'}),(0,t.jsx)("p",{children:'• Use the copied URL in your content editors (e.g., "/uploads/image-name.jpg")'}),(0,t.jsx)("p",{children:"• Supported formats: JPG, PNG, GIF, WebP"}),(0,t.jsx)("p",{children:"• Maximum file size: 10MB per image"})]})]})]})})]})}},5695:(e,a,s)=>{"use strict";var t=s(8999);s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}})},9185:(e,a,s)=>{Promise.resolve().then(s.bind(s,5032))}},e=>{e.O(0,[8441,5964,7358],()=>e(e.s=9185)),_N_E=e.O()}]);